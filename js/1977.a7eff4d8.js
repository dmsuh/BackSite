"use strict";(self["webpackChunkmy_vuetify_app"]=self["webpackChunkmy_vuetify_app"]||[]).push([[1977],{3949:function(e,t,l){var a=l(4677),n=l(9346);const i=e=>{const t=(0,a.createConfirmDialog)(n.Z,{title:e.title||null,message:e.message||null,confirmText:e.confirmText||null,cancelText:e.cancelText||null});return t.onConfirm(e.onConfirm),e.onCancel&&t.onCancel(e.onCancel),t};t["Z"]=i},5040:function(e,t,l){l.d(t,{Z:function(){return v}});var a=l(3396),n=l(2268),i=l(3289);const s={class:"card-header"},o={class:"card-header-title"},r={class:"toolbar"};function d(e,t,l,d,c,u){const p=(0,a.up)("el-card");return(0,a.wg)(),(0,a.j4)(p,{class:"box-card"},{header:(0,a.w5)((()=>[(0,a._)("div",s,[(0,a._)("div",o,[(0,a.Wm)(i.t,{size:"small"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(e.icon),1)])),_:1}),(0,a._)("span",null,(0,n.zw)(e.title),1)]),(0,a._)("div",r,[(0,a.WI)(e.$slots,"actions")])])])),default:(0,a.w5)((()=>[(0,a.WI)(e.$slots,"default")])),_:3})}var c=(0,a.aZ)({name:"PageCard",props:{title:{type:String,default:null},icon:{type:String,default:null},color:{type:String,default:""}}}),u=l(89);const p=(0,u.Z)(c,[["render",d]]);var v=p},1977:function(e,t,l){l.r(t),l.d(t,{default:function(){return w}});var a=l(3396),n=l(2268),i=l(7103),s=l(3289),o=l(4286);const r=["src"],d=(0,a._)("img",{src:"https://i.pinimg.com/originals/94/fd/2b/94fd2bf50097ade743220761f41693d5.gif",style:{width:"100px",height:"80px"}},null,-1);function c(e,t,l,c,u,p){const v=(0,a.up)("el-button"),f=(0,a.up)("v-data-table"),m=(0,a.up)("page-card");return(0,a.wg)(),(0,a.j4)(m,{icon:"mdi-format-list-bulleted",title:e.$t("product.table"),color:"grey"},{actions:(0,a.w5)((()=>[(0,a.Wm)(v,{circle:"",type:"success",onClick:t[0]||(t[0]=t=>e.handleCreate())},{default:(0,a.w5)((()=>[(0,a.Wm)(s.t,null,{default:(0,a.w5)((()=>[(0,a.Uk)("mdi-plus")])),_:1})])),_:1}),e.itemsSelected.length?((0,a.wg)(),(0,a.j4)(v,{key:0,type:"danger",circle:"",onClick:t[1]||(t[1]=t=>e.handleDelete())},{default:(0,a.w5)((()=>[(0,a.Wm)(s.t,null,{default:(0,a.w5)((()=>[(0,a.Uk)("mdi-delete")])),_:1})])),_:1})):(0,a.kq)("",!0)])),default:(0,a.w5)((()=>[(0,a.Wm)(f,{"server-options":e.serverOptions,"onUpdate:serverOptions":t[2]||(t[2]=t=>e.serverOptions=t),"items-selected":e.itemsSelected,"onUpdate:itemsSelected":t[3]||(t[3]=t=>e.itemsSelected=t),"server-items-length":e.dataTable.total,loading:e.isLoading,headers:e.headers,items:e.dataTable.data},{"item-image":(0,a.w5)((t=>[(0,a.Wm)(o.C,{rounded:"",width:"60",height:"60",class:"d-flex align-center justify-center",color:"white"},{default:(0,a.w5)((()=>[(0,a._)("img",{width:"50",height:"50",alt:"test",src:t.image||e.noImage},null,8,r)])),_:2},1024)])),"item-quantity":(0,a.w5)((e=>[(0,a.Wm)(i.v,{label:!0,color:e.quantity?"green":"red"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,n.zw)(e.quantity),1)])),_:2},1032,["color"])])),"item-price":(0,a.w5)((e=>[(0,a.Uk)((0,n.zw)(e.price)+" руб. ",1)])),"item-action":(0,a.w5)((t=>[(0,a.Wm)(v,{type:"primary",circle:"",onClick:l=>e.handleUpdate(t)},{default:(0,a.w5)((()=>[(0,a.Wm)(s.t,null,{default:(0,a.w5)((()=>[(0,a.Uk)("mdi-pencil-outline")])),_:1})])),_:2},1032,["onClick"])])),loading:(0,a.w5)((()=>[d])),_:1},8,["server-options","items-selected","server-items-length","loading","headers","items"])])),_:1},8,["title"])}var u=l(7139),p=l(5040),v=l(7315),f=l(3949),m=l(7744),h=(0,a.aZ)({setup(){const e=(0,u.oR)(),[t,l,a]=(0,v.Z)((t=>e.dispatch("product/loadTable",t))),[n,i,s]=(0,v.Z)((t=>e.dispatch("product/deleteRows",t)));return{loadTable:t,status:l,error:a,deleteRows:n,deleteStatus:i,deleteError:s}},components:{PageCard:p.Z},computed:{isLoading(){return this.status===v.i.pending},dataTable(){return this.$store.getters["product/getDataTable"]}},watch:{serverOptions:{handler:function(e){this.loadServerSide(e)},deep:!0}},data(){return{headers:[{text:"id",value:"id",sortable:!0},{text:"Изображение",value:"image"},{text:"Название",value:"name",sortable:!0},{text:"Модель",value:"model",sortable:!0},{text:"Цена на сайте",value:"price",sortable:!0},{text:"Количество",value:"amount",sortable:!0},{text:"Статус",value:"isActive"},{text:"Действие",value:"action",width:60}],itemsSelected:[],serverOptions:{page:1,rowsPerPage:5,sortBy:"id",sortType:"desc"},noImage:m}},mounted(){this.loadServerSide(this.serverOptions)},methods:{handleCreate(){this.$router.push({name:"product-create"})},handleUpdate(e){this.$router.push({name:"product-update",params:{id:e.id}})},async handleDelete(){const e=(0,f.Z)({title:"Удаление атрибутов",message:"Вы действительно хотите удалить выбранную группу атрибутов?",onConfirm:async()=>{await this.deleteRows(this.itemsSelected.map((e=>e.id))),this.itemsSelected=[],await this.loadServerSide(this.serverOptions)}});await e.reveal()},loadServerSide(e){const t={limit:e.rowsPerPage,offset:(e.page-1)*e.rowsPerPage};e.sortBy&&e.sortType&&(t.order=`${e.sortBy}:${e.sortType}`),this.loadTable(t)}}}),g=l(89);const y=(0,g.Z)(h,[["render",c]]);var w=y},7103:function(e,t,l){l.d(t,{v:function(){return $}});var a=l(3396),n=l(9242),i=l(652),s=l(1970),o=l(1138),r=l(7041),d=l(5221),c=l(8434),u=l(320),p=l(131),v=l(9888),f=l(4870);const m=Symbol.for("vuetify:v-chip-group");(0,u.a)({name:"VChipGroup",props:{column:Boolean,filter:Boolean,valueComparator:{type:Function,default:p.vZ},...(0,s.k4)({selectedClass:"v-chip--selected"}),...(0,o.Q)(),...(0,r.x$)(),...(0,d.bk)({variant:"tonal"})},emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:l}=t;const{themeClasses:n}=(0,r.ER)(e),{isSelected:i,select:o,next:d,prev:u,selected:p}=(0,s._v)(e,m);return(0,c.AF)({VChip:{color:(0,f.Vh)(e,"color"),filter:(0,f.Vh)(e,"filter"),variant:(0,f.Vh)(e,"variant")}}),(0,v.L)((()=>{var t;return(0,a.Wm)(e.tag,{class:["v-chip-group",{"v-chip-group--column":e.column},n.value]},{default:()=>[null==(t=l.default)?void 0:t.call(l,{isSelected:i,select:o,next:d,prev:u,selected:p.value})]})})),{}}});var h=l(836),g=l(8952),y=l(3289),w=l(2718),b=l(9694),S=l(2465),C=l(4231),_=l(6183),x=l(9374),k=l(8717),W=l(4960),I=l(3824);const $=(0,u.a)({name:"VChip",directives:{Ripple:I.H},props:{activeClass:String,appendAvatar:String,appendIcon:W.lE,closable:Boolean,closeIcon:{type:W.lE,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},draggable:Boolean,filter:Boolean,filterIcon:{type:String,default:"$complete"},label:Boolean,link:Boolean,pill:Boolean,prependAvatar:String,prependIcon:W.lE,ripple:{type:Boolean,default:!0},text:String,modelValue:{type:Boolean,default:!0},...(0,w.m)(),...(0,b.f)(),...(0,S.c)(),...(0,s.YQ)(),...(0,C.I)(),...(0,_.GN)(),...(0,x.Z)(),...(0,o.Q)({tag:"span"}),...(0,r.x$)(),...(0,d.bk)({variant:"tonal"})},emits:{"click:close":e=>!0,"update:active":e=>!0,"update:modelValue":e=>!0,"group:selected":e=>!0},setup(e,t){let{attrs:l,emit:o,slots:c}=t;const{borderClasses:u}=(0,w.P)(e),{colorClasses:p,colorStyles:v,variantClasses:f}=(0,d.c1)(e),{densityClasses:W}=(0,b.t)(e),{elevationClasses:I}=(0,S.Y)(e),{roundedClasses:$}=(0,C.b)(e),{sizeClasses:A}=(0,x.t)(e),{themeClasses:V}=(0,r.ER)(e),B=(0,k.z)(e,"modelValue"),T=(0,s.Yt)(e,m,!1),Z=(0,_.nB)(e,l);function L(e){B.value=!1,o("click:close",e)}return()=>{var t,l;const s=Z.isLink.value?"a":e.tag,o=!!(c.append||e.appendIcon||e.appendAvatar),r=!(!c.close&&!e.closable),m=!(!c.filter&&!e.filter)&&T,w=!!(c.prepend||e.prependIcon||e.prependAvatar),b=!T||T.isSelected.value,S=!e.disabled&&(!!T||Z.isClickable.value||e.link),C=e.link?e.link:null==T?void 0:T.toggle;return B.value&&(0,a.wy)((0,a.Wm)(s,{class:["v-chip",{"v-chip--disabled":e.disabled,"v-chip--label":e.label,"v-chip--link":S,"v-chip--filter":m,"v-chip--pill":e.pill},V.value,u.value,b?p.value:void 0,W.value,I.value,$.value,A.value,f.value,null==T?void 0:T.selectedClass.value],style:[b?v.value:void 0],disabled:e.disabled||void 0,draggable:e.draggable,href:Z.href.value,onClick:S&&C},{default:()=>[(0,d.Ux)(S,"v-chip"),m&&(0,a.Wm)(h.z,{key:"filter",defaults:{VIcon:{icon:e.filterIcon}}},{default:()=>[(0,a.Wm)(g.Zq,null,{default:()=>[(0,a.wy)((0,a.Wm)("div",{class:"v-chip__filter"},[c.filter?c.filter():(0,a.Wm)(y.t,null,null)]),[[n.F8,T.isSelected.value]])]})]}),w&&(0,a.Wm)(h.z,{key:"prepend",defaults:{VAvatar:{image:e.prependAvatar},VIcon:{icon:e.prependIcon}}},{default:()=>[c.prepend?(0,a.Wm)("div",{class:"v-chip__prepend"},[c.prepend()]):e.prependAvatar?(0,a.Wm)(i.V,{start:!0},null):e.prependIcon?(0,a.Wm)(y.t,{start:!0},null):void 0]}),null!=(t=null==(l=c.default)?void 0:l.call(c,{isSelected:null==T?void 0:T.isSelected.value,selectedClass:null==T?void 0:T.selectedClass.value,select:null==T?void 0:T.select,toggle:null==T?void 0:T.toggle,value:null==T?void 0:T.value.value,disabled:e.disabled}))?t:e.text,o&&(0,a.Wm)(h.z,{key:"append",defaults:{VAvatar:{image:e.appendAvatar},VIcon:{icon:e.appendIcon}}},{default:()=>[c.append?(0,a.Wm)("div",{class:"v-chip__append"},[c.append()]):e.appendAvatar?(0,a.Wm)(i.V,{end:!0},null):e.appendIcon?(0,a.Wm)(y.t,{end:!0},null):void 0]}),r&&(0,a.Wm)(h.z,{key:"close",defaults:{VIcon:{icon:e.closeIcon,size:"x-small"}}},{default:()=>[(0,a.Wm)("div",{class:"v-chip__close",onClick:L},[c.close?c.close():(0,a.Wm)(y.t,null,null)])]})]}),[[(0,a.Q2)("ripple"),S&&e.ripple,null]])}}})},4286:function(e,t,l){l.d(t,{C:function(){return m}});var a=l(3396),n=l(2718),i=l(4544),s=l(2465),o=l(5180),r=l(489),d=l(4231),c=l(1138),u=l(7041),p=l(2370),v=l(320),f=l(4870);const m=(0,v.a)({name:"VSheet",props:{color:String,...(0,n.m)(),...(0,i.x)(),...(0,s.c)(),...(0,o.y)(),...(0,r.F)(),...(0,d.I)(),...(0,c.Q)(),...(0,u.x$)()},setup(e,t){let{slots:l}=t;const{themeClasses:c}=(0,u.ER)(e),{backgroundColorClasses:v,backgroundColorStyles:m}=(0,p.Y5)((0,f.Vh)(e,"color")),{borderClasses:h}=(0,n.P)(e),{dimensionStyles:g}=(0,i.$)(e),{elevationClasses:y}=(0,s.Y)(e),{locationStyles:w}=(0,o.T)(e),{positionClasses:b}=(0,r.K)(e),{roundedClasses:S}=(0,d.b)(e);return()=>(0,a.Wm)(e.tag,{class:["v-sheet",c.value,v.value,h.value,y.value,b.value,S.value],style:[m.value,g.value,w.value]},l)}})},8952:function(e,t,l){l.d(t,{Fx:function(){return p},Zq:function(){return v},Z5:function(){return c},cu:function(){return u}});var a=l(9242),n=l(3396),i=l(320);function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top center 0",l=arguments.length>2?arguments[2]:void 0;return(0,i.a)({name:e,props:{group:Boolean,hideOnLeave:Boolean,leaveAbsolute:Boolean,mode:{type:String,default:l},origin:{type:String,default:t}},setup(t,l){let{slots:i}=l;return()=>{const l=t.group?a.W3:a.uT;return(0,n.h)(l,{name:e,mode:t.mode,onBeforeEnter(e){e.style.transformOrigin=t.origin},onLeave(e){if(t.leaveAbsolute){const{offsetTop:t,offsetLeft:l,offsetWidth:a,offsetHeight:n}=e;e._transitionInitialStyles={position:e.style.position,top:e.style.top,left:e.style.left,width:e.style.width,height:e.style.height},e.style.position="absolute",e.style.top=`${t}px`,e.style.left=`${l}px`,e.style.width=`${a}px`,e.style.height=`${n}px`}t.hideOnLeave&&e.style.setProperty("display","none","important")},onAfterLeave(e){if(t.leaveAbsolute&&null!=e&&e._transitionInitialStyles){const{position:t,top:l,left:a,width:n,height:i}=e._transitionInitialStyles;delete e._transitionInitialStyles,e.style.position=t||"",e.style.top=l||"",e.style.left=a||"",e.style.width=n||"",e.style.height=i||""}}},i.default)}}})}function o(e,t){let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"in-out";return(0,i.a)({name:e,props:{mode:{type:String,default:l}},setup(l,i){let{slots:s}=i;return()=>(0,n.h)(a.uT,{name:e,...t},s.default)}})}var r=l(2268);function d(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const l=t?"width":"height",a=(0,r._A)(`offset-${l}`);return{onBeforeEnter(e){e._parent=e.parentNode,e._initialStyle={transition:e.style.transition,overflow:e.style.overflow,[l]:e.style[l]}},onEnter(t){const n=t._initialStyle;t.style.setProperty("transition","none","important"),t.style.overflow="hidden";const i=`${t[a]}px`;t.style[l]="0",t.offsetHeight,t.style.transition=n.transition,e&&t._parent&&t._parent.classList.add(e),requestAnimationFrame((()=>{t.style[l]=i}))},onAfterEnter:i,onEnterCancelled:i,onLeave(e){e._initialStyle={transition:"",overflow:e.style.overflow,[l]:e.style[l]},e.style.overflow="hidden",e.style[l]=`${e[a]}px`,e.offsetHeight,requestAnimationFrame((()=>e.style[l]="0"))},onAfterLeave:n,onLeaveCancelled:n};function n(t){e&&t._parent&&t._parent.classList.remove(e),i(t)}function i(e){const t=e._initialStyle[l];e.style.overflow=e._initialStyle.overflow,null!=t&&(e.style[l]=t),delete e._initialStyle}}s("fab-transition","center center","out-in"),s("dialog-bottom-transition"),s("dialog-top-transition");const c=s("fade-transition"),u=(s("scale-transition"),s("scroll-x-transition"),s("scroll-x-reverse-transition"),s("scroll-y-transition"),s("scroll-y-reverse-transition"),s("slide-x-transition"),s("slide-x-reverse-transition"),s("slide-y-transition")),p=(s("slide-y-reverse-transition"),o("expand-transition",d())),v=o("expand-x-transition",d("",!0))}}]);
//# sourceMappingURL=1977.a7eff4d8.js.map