"use strict";(self["webpackChunkmy_vuetify_app"]=self["webpackChunkmy_vuetify_app"]||[]).push([[314],{8099:function(){},5472:function(e,l,t){var a=t(3396),o=t(4870);l["Z"]=(0,a.aZ)({setup(){return{form:(0,o.iH)()}},methods:{submit(e){this.form&&this.form.validate((l=>{l&&e()}))},async validate(){return!!this.form&&this.form.validate()}}})},5040:function(e,l,t){t.d(l,{Z:function(){return c}});var a=t(3396),o=t(2268),r=t(3289);const d={class:"card-header"},n={class:"card-header-title"},i={class:"toolbar"};function u(e,l,t,u,m,s){const p=(0,a.up)("el-card");return(0,a.wg)(),(0,a.j4)(p,{class:"box-card"},{header:(0,a.w5)((()=>[(0,a._)("div",d,[(0,a._)("div",n,[(0,a.Wm)(r.t,{size:"small"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(e.icon),1)])),_:1}),(0,a._)("span",null,(0,o.zw)(e.title),1)]),(0,a._)("div",i,[(0,a.WI)(e.$slots,"actions")])])])),default:(0,a.w5)((()=>[(0,a.WI)(e.$slots,"default")])),_:3})}var m=(0,a.aZ)({name:"PageCard",props:{title:{type:String,default:null},icon:{type:String,default:null},color:{type:String,default:""}}}),s=t(89);const p=(0,s.Z)(m,[["render",u]]);var c=p},314:function(e,l,t){t.r(l),t.d(l,{default:function(){return h}});var a=t(3396),o=t(3369),r=t(3289);function d(e,l,t,d,n,i){const u=(0,a.up)("el-button"),m=(0,a.up)("filter-group-form"),s=(0,a.up)("page-card");return(0,a.wg)(),(0,a.j4)(s,{icon:"mdi-pencil-outline",title:e.$t("attribute.create"),color:"grey"},{actions:(0,a.w5)((()=>[(0,a.Wm)(u,{onClick:l[0]||(l[0]=l=>e.handleSubmit()),type:"success",circle:""},{default:(0,a.w5)((()=>[(0,a.Wm)(r.t,null,{default:(0,a.w5)((()=>[(0,a.Uk)("mdi-content-save-outline")])),_:1})])),_:1}),(0,a.Wm)(u,{onClick:l[1]||(l[1]=l=>e.handleBack()),type:"default",circle:""},{default:(0,a.w5)((()=>[(0,a.Wm)(r.t,null,{default:(0,a.w5)((()=>[(0,a.Uk)("mdi-backup-restore")])),_:1})])),_:1})])),default:(0,a.w5)((()=>[(0,a.Wm)(o.K,null,{default:(0,a.w5)((()=>[(0,a.Wm)(m,{ref:"form",modelValue:e.model,"onUpdate:modelValue":l[2]||(l[2]=l=>e.model=l),"is-loading":e.isLoading},null,8,["modelValue","is-loading"])])),_:1})])),_:1},8,["title"])}var n=t(4870),i=t(7139),u=t(7315),m=t(5040),s=t(9466),p=(0,a.aZ)({setup(){const e=(0,i.oR)(),[l,t,a]=(0,u.Z)((l=>e.dispatch("filterGroup/createForm",l)));return{saveForm:l,saveStatus:t,saveError:a,form:(0,n.iH)()}},components:{PageCard:m.Z,FilterGroupForm:s.Z},computed:{isLoading(){return this.saveStatus===u.i.pending}},data(){return{model:{location:"",sortOrder:0,name:"New filter group",filters:[]}}},methods:{handleBack(){this.$router.push({name:"filter"})},async handleSubmit(){const e=await this.saveForm(this.model);"undefined"!==typeof e&&(this.model=e),this.model?.id&&this.$router.push({name:"filter-update",params:{id:this.model.id}})}}}),c=t(89);const f=(0,c.Z)(p,[["render",d]]);var h=f},9466:function(e,l,t){t.d(l,{Z:function(){return s}});var a=t(3396),o=t(3289);function r(e,l,t,r,d,n){const i=(0,a.up)("el-input"),u=(0,a.up)("el-form-item"),m=(0,a.up)("el-input-number"),s=(0,a.up)("el-table-column"),p=(0,a.up)("el-button"),c=(0,a.up)("el-table"),f=(0,a.up)("el-form"),h=(0,a.Q2)("loading");return(0,a.wy)(((0,a.wg)(),(0,a.j4)(f,{ref:"form",model:e.model,"label-width":"240px"},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{label:e.$t("main.labels.name"),prop:"name"},{default:(0,a.w5)((()=>[(0,a.Wm)(i,{modelValue:e.model.name,"onUpdate:modelValue":l[0]||(l[0]=l=>e.model.name=l),placeholder:e.$t("main.labels.name")},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),(0,a.Wm)(u,{label:e.$t("main.labels.location"),prop:"location"},{default:(0,a.w5)((()=>[(0,a.Wm)(i,{modelValue:e.model.location,"onUpdate:modelValue":l[1]||(l[1]=l=>e.model.location=l),placeholder:e.$t("main.labels.location")},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),(0,a.Wm)(u,{label:e.$t("main.labels.sortOrder"),prop:"sortOrder"},{default:(0,a.w5)((()=>[(0,a.Wm)(m,{modelValue:e.model.sortOrder,"onUpdate:modelValue":l[2]||(l[2]=l=>e.model.sortOrder=l),placeholder:e.$t("main.labels.sortOrder")},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),(0,a.Wm)(u,{label:e.$t("main.labels.filters"),prop:"value"},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{data:e.model.filters,style:{width:"100%"}},{default:(0,a.w5)((()=>[(0,a.Wm)(s,{label:e.$t("main.labels.name"),prop:"name"},{default:(0,a.w5)((l=>[(0,a.Wm)(u,{prop:"name","label-width":"0"},{default:(0,a.w5)((()=>[(0,a.Wm)(i,{modelValue:e.model.filters[l.$index].name,"onUpdate:modelValue":t=>e.model.filters[l.$index].name=t,placeholder:e.$t("main.labels.name")},null,8,["modelValue","onUpdate:modelValue","placeholder"])])),_:2},1024)])),_:1},8,["label"]),(0,a.Wm)(s,{label:e.$t("main.labels.sortOrder"),prop:"sortOrder"},{default:(0,a.w5)((l=>[(0,a.Wm)(u,{prop:"sortOrder","label-width":"0"},{default:(0,a.w5)((()=>[(0,a.Wm)(m,{modelValue:e.model.filters[l.$index].sortOrder,"onUpdate:modelValue":t=>e.model.filters[l.$index].sortOrder=t,placeholder:e.$t("main.labels.sortOrder")},null,8,["modelValue","onUpdate:modelValue","placeholder"])])),_:2},1024)])),_:1},8,["label"]),(0,a.Wm)(s,{align:"right",width:"100px"},{header:(0,a.w5)((()=>[(0,a.Wm)(p,{type:"success",onClick:l[3]||(l[3]=l=>e.addFilter())},{default:(0,a.w5)((()=>[(0,a.Wm)(o.t,null,{default:(0,a.w5)((()=>[(0,a.Uk)("mdi-plus")])),_:1})])),_:1})])),default:(0,a.w5)((l=>[(0,a.Wm)(p,{type:"danger",onClick:t=>e.removeFilter(l.$index)},{default:(0,a.w5)((()=>[(0,a.Wm)(o.t,null,{default:(0,a.w5)((()=>[(0,a.Uk)("mdi-delete")])),_:1})])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"])])),_:1},8,["label"])])),_:1},8,["model"])),[[h,e.isLoading]])}var d=t(4870),n=t(5472),i=(0,a.aZ)({name:"FilterGroupForm",mixins:[n.Z],setup(){return{rules:(0,d.qj)({})}},props:{modelValue:Object,isLoading:Boolean},watch:{modelValue:{handler:function(e){this.model=e},deep:!0},model:{handler:function(e){this.$emit("update:modelValue",e)},deep:!0}},data(){return{model:this.modelValue||{location:"",sortOrder:0,name:"123",filters:[]},isValid:!1}},methods:{addFilter(){this.model.filters.push({sortOrder:0,name:""})},removeFilter(e){this.model.filters.splice(e,1)}}}),u=t(89);const m=(0,u.Z)(i,[["render",r]]);var s=m},3369:function(e,l,t){t.d(l,{K:function(){return n}});var a=t(3396),o=(t(8099),t(1138)),r=t(320),d=t(9888);const n=(0,r.a)({name:"VContainer",props:{fluid:{type:Boolean,default:!1},...(0,o.Q)()},setup(e,l){let{slots:t}=l;return(0,d.L)((()=>(0,a.Wm)(e.tag,{class:["v-container",{"v-container--fluid":e.fluid}]},t))),{}}})}}]);
//# sourceMappingURL=314.fa6cd35c.js.map